/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__azertyMapping__ = __webpack_require__(/*! ./azertyMapping */ 1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__VirtualKeyboard__ = __webpack_require__(/*! ./VirtualKeyboard */ 2);\n\r\n\r\n\r\n\r\nnew __WEBPACK_IMPORTED_MODULE_1__VirtualKeyboard__[\"a\" /* default */]().constructKeyboard(__WEBPACK_IMPORTED_MODULE_0__azertyMapping__[\"a\" /* default */]);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbmRleC5qcz85NTUyIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgYXplcnR5TWFwcGluZyBmcm9tICcuL2F6ZXJ0eU1hcHBpbmcnO1xyXG5pbXBvcnQgVmlydHVhbEtleWJvYXJkIGZyb20gJy4vVmlydHVhbEtleWJvYXJkJztcclxuXHJcbm5ldyBWaXJ0dWFsS2V5Ym9hcmQoKS5jb25zdHJ1Y3RLZXlib2FyZChhemVydHlNYXBwaW5nKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/*!******************************!*\
  !*** ./src/azertyMapping.js ***!
  \******************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("const azertyMapping = [\r\n    ///// LOWCASE KEYS\r\n    { key: 'a', ascii: '97' },\r\n    { key: 'z', ascii: '122' },\r\n    { key: 'e', ascii: '101' },\r\n    { key: 'r', ascii: '114' },\r\n    { key: 't', ascii: '116' },\r\n    { key: 'y', ascii: '121' },\r\n    { key: 'u', ascii: '117' },\r\n    { key: 'i', ascii: '105' },\r\n    { key: 'o', ascii: '111' },\r\n    { key: 'p', ascii: '112' },\r\n    { key: 'q', ascii: '113' },\r\n    { key: 's', ascii: '115' },\r\n    { key: 'd', ascii: '100' },\r\n    { key: 'f', ascii: '102' },\r\n    { key: 'g', ascii: '103' },\r\n    { key: 'h', ascii: '104' },\r\n    { key: 'j', ascii: '106' },\r\n    { key: 'k', ascii: '107' },\r\n    { key: 'l', ascii: '108' },\r\n    { key: 'm', ascii: '109' },\r\n    { key: '<i class=\"fa fa-arrow-up\" aria-hidden=\"true\"></i>', action: 'uppercase' },\r\n    { key: 'x', ascii: '120' },\r\n    { key: 'w', ascii: '119' },\r\n    { key: 'c', ascii: '99' },\r\n    { key: 'v', ascii: '118' },\r\n    { key: 'b', ascii: '98' },\r\n    { key: 'n', ascii: '110' },\r\n    { key: '\\'', ascii: '39' },\r\n    {\r\n        key: '<i class=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>',\r\n        ascii: '',\r\n        action: 'backspace',\r\n        class: 'backspace-key',\r\n    },\r\n    { key: '#123?', action: 'numerics' },\r\n    { key: ',', ascii: '44' },\r\n    { key: '', action: 'emotes' },\r\n    { key: 'Space', ascii: '32', class: 'space-key' },\r\n    { key: '.', ascii: '46' },\r\n    { key: 'Enter', class: 'enter-key', action: 'enter' },\r\n    ///// UPPERCASE KEYS\r\n    { key: 'A', ascii: '65' },\r\n    { key: 'Z', ascii: '90' },\r\n    { key: 'E', ascii: '69' },\r\n    { key: 'R', ascii: '82' },\r\n    { key: 'T', ascii: '84' },\r\n    { key: 'Y', ascii: '89' },\r\n    { key: 'U', ascii: '85' },\r\n    { key: 'I', ascii: '73' },\r\n    { key: 'O', ascii: '79' },\r\n    { key: 'P', ascii: '80' },\r\n    { key: 'Q', ascii: '81' },\r\n    { key: 'S', ascii: '83' },\r\n    { key: 'D', ascii: '68' },\r\n    { key: 'F', ascii: '70' },\r\n    { key: 'G', ascii: '71' },\r\n    { key: 'H', ascii: '72' },\r\n    { key: 'J', ascii: '74' },\r\n    { key: 'K', ascii: '75' },\r\n    { key: 'L', ascii: '76' },\r\n    { key: 'M', ascii: '77' },\r\n    { key: '<i class=\"fa fa-arrow-up\" aria-hidden=\"true\"></i>', action: 'lowercase' },\r\n    { key: 'X', ascii: '88' },\r\n    { key: 'W', ascii: '87' },\r\n    { key: 'C', ascii: '67' },\r\n    { key: 'V', ascii: '86' },\r\n    { key: 'B', ascii: '66' },\r\n    { key: 'N', ascii: '78' },\r\n    { key: '\\'', ascii: '39' },\r\n    {\r\n        key: '<i class=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>',\r\n        ascii: '',\r\n        action: 'backspace',\r\n        class: 'backspace-key',\r\n    },\r\n    { key: '#123?', action: 'numerics' },\r\n    { key: ',', ascii: '44' },\r\n    { key: '', action: 'emotes' },\r\n    { key: 'Space', ascii: '32', class: 'space-key' },\r\n    { key: '.', ascii: '46' },\r\n    { key: 'Enter', class: 'enter-key', action: 'enter' },\r\n    ////// NUMERIC AND EXTRA KEYS\r\n    { key: '1', ascii: '49' },\r\n    { key: '2', ascii: '50' },\r\n    { key: '3', ascii: '51' },\r\n    { key: '4', ascii: '52' },\r\n    { key: '5', ascii: '53' },\r\n    { key: '6', ascii: '54' },\r\n    { key: '7', ascii: '55' },\r\n    { key: '8', ascii: '56' },\r\n    { key: '9', ascii: '57' },\r\n    { key: '0', ascii: '48' },\r\n    { key: '@', ascii: '64' },\r\n    { key: '#', ascii: '35' },\r\n    { key: '€', ascii: '8364' },\r\n    { key: '_', ascii: '95' },\r\n    { key: '&', ascii: '38' },\r\n    { key: '-', ascii: '45' },\r\n    { key: '+', ascii: '43' },\r\n    { key: '(', ascii: '40' },\r\n    { key: ')', ascii: '41' },\r\n    { key: '/', ascii: '47' },\r\n    { key: '=\\\\<', action: 'extrakeys' },\r\n    { key: '*', ascii: '42' },\r\n    { key: '\"', ascii: '34' },\r\n    { key: '\\'', ascii: '44' },\r\n    { key: ':', ascii: '58' },\r\n    { key: ';', ascii: '59' },\r\n    { key: '!', ascii: '33' },\r\n    { key: '?', ascii: '63' },\r\n    {\r\n        key: '<i class=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>',\r\n        ascii: '',\r\n        action: 'backspace',\r\n        class: 'backspace-key',\r\n    },\r\n    { key: 'ABC', action: 'lowercase' },\r\n    { key: ',', ascii: '44' },\r\n    { key: '', action: 'emotes' },\r\n    { key: 'Space', ascii: '32', class: 'space-key' },\r\n    { key: '.', ascii: '46' },\r\n    { key: 'Enter', class: 'enter-key', action: 'enter' },\r\n    ///////EXTRA KEYS\r\n    { key: '~', ascii: '126' },\r\n    { key: '`', ascii: '94' },\r\n    { key: '|', ascii: '124' },\r\n    { key: '·', ascii: '183' },\r\n    { key: '=', ascii: '61' },\r\n    { key: '^', ascii: '94' },\r\n    { key: '{', ascii: '123' },\r\n    { key: '}', ascii: '125' },\r\n    { key: '%', ascii: '37' },\r\n    { key: '\\\\', ascii: '92' },\r\n    { key: '[', ascii: '91' },\r\n    { key: ']', ascii: '93' },\r\n    { key: '€', ascii: '8364' },\r\n    { key: '_', ascii: '95' },\r\n    { key: '&', ascii: '38' },\r\n    { key: '-', ascii: '45' },\r\n    { key: '+', ascii: '43' },\r\n    { key: '(', ascii: '40' },\r\n    { key: ')', ascii: '41' },\r\n    { key: '/', ascii: '47' },\r\n];\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (azertyMapping);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hemVydHlNYXBwaW5nLmpzP2FhMDQiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXplcnR5TWFwcGluZyA9IFtcclxuICAgIC8vLy8vIExPV0NBU0UgS0VZU1xyXG4gICAgeyBrZXk6ICdhJywgYXNjaWk6ICc5NycgfSxcclxuICAgIHsga2V5OiAneicsIGFzY2lpOiAnMTIyJyB9LFxyXG4gICAgeyBrZXk6ICdlJywgYXNjaWk6ICcxMDEnIH0sXHJcbiAgICB7IGtleTogJ3InLCBhc2NpaTogJzExNCcgfSxcclxuICAgIHsga2V5OiAndCcsIGFzY2lpOiAnMTE2JyB9LFxyXG4gICAgeyBrZXk6ICd5JywgYXNjaWk6ICcxMjEnIH0sXHJcbiAgICB7IGtleTogJ3UnLCBhc2NpaTogJzExNycgfSxcclxuICAgIHsga2V5OiAnaScsIGFzY2lpOiAnMTA1JyB9LFxyXG4gICAgeyBrZXk6ICdvJywgYXNjaWk6ICcxMTEnIH0sXHJcbiAgICB7IGtleTogJ3AnLCBhc2NpaTogJzExMicgfSxcclxuICAgIHsga2V5OiAncScsIGFzY2lpOiAnMTEzJyB9LFxyXG4gICAgeyBrZXk6ICdzJywgYXNjaWk6ICcxMTUnIH0sXHJcbiAgICB7IGtleTogJ2QnLCBhc2NpaTogJzEwMCcgfSxcclxuICAgIHsga2V5OiAnZicsIGFzY2lpOiAnMTAyJyB9LFxyXG4gICAgeyBrZXk6ICdnJywgYXNjaWk6ICcxMDMnIH0sXHJcbiAgICB7IGtleTogJ2gnLCBhc2NpaTogJzEwNCcgfSxcclxuICAgIHsga2V5OiAnaicsIGFzY2lpOiAnMTA2JyB9LFxyXG4gICAgeyBrZXk6ICdrJywgYXNjaWk6ICcxMDcnIH0sXHJcbiAgICB7IGtleTogJ2wnLCBhc2NpaTogJzEwOCcgfSxcclxuICAgIHsga2V5OiAnbScsIGFzY2lpOiAnMTA5JyB9LFxyXG4gICAgeyBrZXk6ICc8aSBjbGFzcz1cImZhIGZhLWFycm93LXVwXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicsIGFjdGlvbjogJ3VwcGVyY2FzZScgfSxcclxuICAgIHsga2V5OiAneCcsIGFzY2lpOiAnMTIwJyB9LFxyXG4gICAgeyBrZXk6ICd3JywgYXNjaWk6ICcxMTknIH0sXHJcbiAgICB7IGtleTogJ2MnLCBhc2NpaTogJzk5JyB9LFxyXG4gICAgeyBrZXk6ICd2JywgYXNjaWk6ICcxMTgnIH0sXHJcbiAgICB7IGtleTogJ2InLCBhc2NpaTogJzk4JyB9LFxyXG4gICAgeyBrZXk6ICduJywgYXNjaWk6ICcxMTAnIH0sXHJcbiAgICB7IGtleTogJ1xcJycsIGFzY2lpOiAnMzknIH0sXHJcbiAgICB7XHJcbiAgICAgICAga2V5OiAnPGkgY2xhc3M9XCJmYSBmYS1hcnJvdy1sZWZ0XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicsXHJcbiAgICAgICAgYXNjaWk6ICcnLFxyXG4gICAgICAgIGFjdGlvbjogJ2JhY2tzcGFjZScsXHJcbiAgICAgICAgY2xhc3M6ICdiYWNrc3BhY2Uta2V5JyxcclxuICAgIH0sXHJcbiAgICB7IGtleTogJyMxMjM/JywgYWN0aW9uOiAnbnVtZXJpY3MnIH0sXHJcbiAgICB7IGtleTogJywnLCBhc2NpaTogJzQ0JyB9LFxyXG4gICAgeyBrZXk6ICcnLCBhY3Rpb246ICdlbW90ZXMnIH0sXHJcbiAgICB7IGtleTogJ1NwYWNlJywgYXNjaWk6ICczMicsIGNsYXNzOiAnc3BhY2Uta2V5JyB9LFxyXG4gICAgeyBrZXk6ICcuJywgYXNjaWk6ICc0NicgfSxcclxuICAgIHsga2V5OiAnRW50ZXInLCBjbGFzczogJ2VudGVyLWtleScsIGFjdGlvbjogJ2VudGVyJyB9LFxyXG4gICAgLy8vLy8gVVBQRVJDQVNFIEtFWVNcclxuICAgIHsga2V5OiAnQScsIGFzY2lpOiAnNjUnIH0sXHJcbiAgICB7IGtleTogJ1onLCBhc2NpaTogJzkwJyB9LFxyXG4gICAgeyBrZXk6ICdFJywgYXNjaWk6ICc2OScgfSxcclxuICAgIHsga2V5OiAnUicsIGFzY2lpOiAnODInIH0sXHJcbiAgICB7IGtleTogJ1QnLCBhc2NpaTogJzg0JyB9LFxyXG4gICAgeyBrZXk6ICdZJywgYXNjaWk6ICc4OScgfSxcclxuICAgIHsga2V5OiAnVScsIGFzY2lpOiAnODUnIH0sXHJcbiAgICB7IGtleTogJ0knLCBhc2NpaTogJzczJyB9LFxyXG4gICAgeyBrZXk6ICdPJywgYXNjaWk6ICc3OScgfSxcclxuICAgIHsga2V5OiAnUCcsIGFzY2lpOiAnODAnIH0sXHJcbiAgICB7IGtleTogJ1EnLCBhc2NpaTogJzgxJyB9LFxyXG4gICAgeyBrZXk6ICdTJywgYXNjaWk6ICc4MycgfSxcclxuICAgIHsga2V5OiAnRCcsIGFzY2lpOiAnNjgnIH0sXHJcbiAgICB7IGtleTogJ0YnLCBhc2NpaTogJzcwJyB9LFxyXG4gICAgeyBrZXk6ICdHJywgYXNjaWk6ICc3MScgfSxcclxuICAgIHsga2V5OiAnSCcsIGFzY2lpOiAnNzInIH0sXHJcbiAgICB7IGtleTogJ0onLCBhc2NpaTogJzc0JyB9LFxyXG4gICAgeyBrZXk6ICdLJywgYXNjaWk6ICc3NScgfSxcclxuICAgIHsga2V5OiAnTCcsIGFzY2lpOiAnNzYnIH0sXHJcbiAgICB7IGtleTogJ00nLCBhc2NpaTogJzc3JyB9LFxyXG4gICAgeyBrZXk6ICc8aSBjbGFzcz1cImZhIGZhLWFycm93LXVwXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPicsIGFjdGlvbjogJ2xvd2VyY2FzZScgfSxcclxuICAgIHsga2V5OiAnWCcsIGFzY2lpOiAnODgnIH0sXHJcbiAgICB7IGtleTogJ1cnLCBhc2NpaTogJzg3JyB9LFxyXG4gICAgeyBrZXk6ICdDJywgYXNjaWk6ICc2NycgfSxcclxuICAgIHsga2V5OiAnVicsIGFzY2lpOiAnODYnIH0sXHJcbiAgICB7IGtleTogJ0InLCBhc2NpaTogJzY2JyB9LFxyXG4gICAgeyBrZXk6ICdOJywgYXNjaWk6ICc3OCcgfSxcclxuICAgIHsga2V5OiAnXFwnJywgYXNjaWk6ICczOScgfSxcclxuICAgIHtcclxuICAgICAgICBrZXk6ICc8aSBjbGFzcz1cImZhIGZhLWFycm93LWxlZnRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+JyxcclxuICAgICAgICBhc2NpaTogJycsXHJcbiAgICAgICAgYWN0aW9uOiAnYmFja3NwYWNlJyxcclxuICAgICAgICBjbGFzczogJ2JhY2tzcGFjZS1rZXknLFxyXG4gICAgfSxcclxuICAgIHsga2V5OiAnIzEyMz8nLCBhY3Rpb246ICdudW1lcmljcycgfSxcclxuICAgIHsga2V5OiAnLCcsIGFzY2lpOiAnNDQnIH0sXHJcbiAgICB7IGtleTogJycsIGFjdGlvbjogJ2Vtb3RlcycgfSxcclxuICAgIHsga2V5OiAnU3BhY2UnLCBhc2NpaTogJzMyJywgY2xhc3M6ICdzcGFjZS1rZXknIH0sXHJcbiAgICB7IGtleTogJy4nLCBhc2NpaTogJzQ2JyB9LFxyXG4gICAgeyBrZXk6ICdFbnRlcicsIGNsYXNzOiAnZW50ZXIta2V5JywgYWN0aW9uOiAnZW50ZXInIH0sXHJcbiAgICAvLy8vLy8gTlVNRVJJQyBBTkQgRVhUUkEgS0VZU1xyXG4gICAgeyBrZXk6ICcxJywgYXNjaWk6ICc0OScgfSxcclxuICAgIHsga2V5OiAnMicsIGFzY2lpOiAnNTAnIH0sXHJcbiAgICB7IGtleTogJzMnLCBhc2NpaTogJzUxJyB9LFxyXG4gICAgeyBrZXk6ICc0JywgYXNjaWk6ICc1MicgfSxcclxuICAgIHsga2V5OiAnNScsIGFzY2lpOiAnNTMnIH0sXHJcbiAgICB7IGtleTogJzYnLCBhc2NpaTogJzU0JyB9LFxyXG4gICAgeyBrZXk6ICc3JywgYXNjaWk6ICc1NScgfSxcclxuICAgIHsga2V5OiAnOCcsIGFzY2lpOiAnNTYnIH0sXHJcbiAgICB7IGtleTogJzknLCBhc2NpaTogJzU3JyB9LFxyXG4gICAgeyBrZXk6ICcwJywgYXNjaWk6ICc0OCcgfSxcclxuICAgIHsga2V5OiAnQCcsIGFzY2lpOiAnNjQnIH0sXHJcbiAgICB7IGtleTogJyMnLCBhc2NpaTogJzM1JyB9LFxyXG4gICAgeyBrZXk6ICfigqwnLCBhc2NpaTogJzgzNjQnIH0sXHJcbiAgICB7IGtleTogJ18nLCBhc2NpaTogJzk1JyB9LFxyXG4gICAgeyBrZXk6ICcmJywgYXNjaWk6ICczOCcgfSxcclxuICAgIHsga2V5OiAnLScsIGFzY2lpOiAnNDUnIH0sXHJcbiAgICB7IGtleTogJysnLCBhc2NpaTogJzQzJyB9LFxyXG4gICAgeyBrZXk6ICcoJywgYXNjaWk6ICc0MCcgfSxcclxuICAgIHsga2V5OiAnKScsIGFzY2lpOiAnNDEnIH0sXHJcbiAgICB7IGtleTogJy8nLCBhc2NpaTogJzQ3JyB9LFxyXG4gICAgeyBrZXk6ICc9XFxcXDwnLCBhY3Rpb246ICdleHRyYWtleXMnIH0sXHJcbiAgICB7IGtleTogJyonLCBhc2NpaTogJzQyJyB9LFxyXG4gICAgeyBrZXk6ICdcIicsIGFzY2lpOiAnMzQnIH0sXHJcbiAgICB7IGtleTogJ1xcJycsIGFzY2lpOiAnNDQnIH0sXHJcbiAgICB7IGtleTogJzonLCBhc2NpaTogJzU4JyB9LFxyXG4gICAgeyBrZXk6ICc7JywgYXNjaWk6ICc1OScgfSxcclxuICAgIHsga2V5OiAnIScsIGFzY2lpOiAnMzMnIH0sXHJcbiAgICB7IGtleTogJz8nLCBhc2NpaTogJzYzJyB9LFxyXG4gICAge1xyXG4gICAgICAgIGtleTogJzxpIGNsYXNzPVwiZmEgZmEtYXJyb3ctbGVmdFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4nLFxyXG4gICAgICAgIGFzY2lpOiAnJyxcclxuICAgICAgICBhY3Rpb246ICdiYWNrc3BhY2UnLFxyXG4gICAgICAgIGNsYXNzOiAnYmFja3NwYWNlLWtleScsXHJcbiAgICB9LFxyXG4gICAgeyBrZXk6ICdBQkMnLCBhY3Rpb246ICdsb3dlcmNhc2UnIH0sXHJcbiAgICB7IGtleTogJywnLCBhc2NpaTogJzQ0JyB9LFxyXG4gICAgeyBrZXk6ICcnLCBhY3Rpb246ICdlbW90ZXMnIH0sXHJcbiAgICB7IGtleTogJ1NwYWNlJywgYXNjaWk6ICczMicsIGNsYXNzOiAnc3BhY2Uta2V5JyB9LFxyXG4gICAgeyBrZXk6ICcuJywgYXNjaWk6ICc0NicgfSxcclxuICAgIHsga2V5OiAnRW50ZXInLCBjbGFzczogJ2VudGVyLWtleScsIGFjdGlvbjogJ2VudGVyJyB9LFxyXG4gICAgLy8vLy8vL0VYVFJBIEtFWVNcclxuICAgIHsga2V5OiAnficsIGFzY2lpOiAnMTI2JyB9LFxyXG4gICAgeyBrZXk6ICdgJywgYXNjaWk6ICc5NCcgfSxcclxuICAgIHsga2V5OiAnfCcsIGFzY2lpOiAnMTI0JyB9LFxyXG4gICAgeyBrZXk6ICfCtycsIGFzY2lpOiAnMTgzJyB9LFxyXG4gICAgeyBrZXk6ICc9JywgYXNjaWk6ICc2MScgfSxcclxuICAgIHsga2V5OiAnXicsIGFzY2lpOiAnOTQnIH0sXHJcbiAgICB7IGtleTogJ3snLCBhc2NpaTogJzEyMycgfSxcclxuICAgIHsga2V5OiAnfScsIGFzY2lpOiAnMTI1JyB9LFxyXG4gICAgeyBrZXk6ICclJywgYXNjaWk6ICczNycgfSxcclxuICAgIHsga2V5OiAnXFxcXCcsIGFzY2lpOiAnOTInIH0sXHJcbiAgICB7IGtleTogJ1snLCBhc2NpaTogJzkxJyB9LFxyXG4gICAgeyBrZXk6ICddJywgYXNjaWk6ICc5MycgfSxcclxuICAgIHsga2V5OiAn4oKsJywgYXNjaWk6ICc4MzY0JyB9LFxyXG4gICAgeyBrZXk6ICdfJywgYXNjaWk6ICc5NScgfSxcclxuICAgIHsga2V5OiAnJicsIGFzY2lpOiAnMzgnIH0sXHJcbiAgICB7IGtleTogJy0nLCBhc2NpaTogJzQ1JyB9LFxyXG4gICAgeyBrZXk6ICcrJywgYXNjaWk6ICc0MycgfSxcclxuICAgIHsga2V5OiAnKCcsIGFzY2lpOiAnNDAnIH0sXHJcbiAgICB7IGtleTogJyknLCBhc2NpaTogJzQxJyB9LFxyXG4gICAgeyBrZXk6ICcvJywgYXNjaWk6ICc0NycgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGF6ZXJ0eU1hcHBpbmc7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXplcnR5TWFwcGluZy5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/*!********************************!*\
  !*** ./src/VirtualKeyboard.js ***!
  \********************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/*\r\n    Virtual Keyboard for web app\r\n*/\r\n\r\nconst FIRST_ROW_LENGHT = 10;\r\nconst SECOND_ROW_LENGHT = 10;\r\nconst THIRD_ROW_LENGHT = 9;\r\nconst FOURTH_ROW_LENGHT = 6;\r\n\r\n/**\r\n * Class of Virtual keyboad\r\n * @class VirtualKeyboard\r\n */\r\nclass VirtualKeyboard {\r\n  /**\r\n   * Creates an instance of VirtualKeyboard.\r\n   * @param {any} options\r\n   * @memberof VirtualKeyboard\r\n   */\r\n  constructor(options) {\r\n    this.options = options || {};\r\n    this.currentInputElement = null;\r\n    this.targetedInputsElements = new Set();\r\n    this.isvisible = false;\r\n    this.keyboardContainer = null;\r\n    this.actionsContainer = null;\r\n    this.inputCaretPosition = 0;\r\n    this.rows = [this.row1, this.row2, this.row3, this.row4];\r\n    this.keys = null;\r\n  }\r\n  /**\r\n   * Return the reference of the current input Html element to whitch\r\n   *  the virtual keyboard is pointing\r\n   * @return {HTMLElement}\r\n   * @memberof VirtualKeyboard\r\n   */\r\n  getInputElement() {\r\n    return this.currentInputElement;\r\n  }\r\n  /**\r\n   * Set the current input HTML of the  virtual keyboard\r\n   * @param {HTMLElement} element\r\n   * @memberof VirtualKeyboard\r\n   */\r\n  setInputElement(element) {\r\n    this.currentInputElement = element;\r\n  }\r\n  /**\r\n   * Add an event listener when the Enter key is clicked\r\n   * and set the behavior when this event is triggered\r\n   * @param {HTMLElement} key\r\n   * @memberof VirtualKeyboard\r\n   */\r\n  enterKeyEvent(key) {\r\n    key.addEventListener('click', () => {\r\n      this.currentInputElement.value =\r\n        `${this.currentInputElement.value.slice(0, this.inputCaretPosition)}\\n${this.currentInputElement.value.slice(this.inputCaretPosition)}`;\r\n      this.incrementCaretPosition();\r\n    });\r\n  }\r\n  /**\r\n   * Add an event listener when the BackSpace key is clicked\r\n   * and set the behavior when this event is triggered\r\n   * @param {HTMLElement} key\r\n   * @memberof VirtualKeyboard\r\n   */\r\n  backSpaceKeyEvent(key) {\r\n    key.addEventListener('click', () => {\r\n      this.currentInputElement.value =\r\n        this.currentInputElement.value.slice(0, this.inputCaretPosition - 1) +\r\n        this.currentInputElement.value.slice(this.inputCaretPosition);\r\n      this.decrementCaretPosition();\r\n    });\r\n  }\r\n  /**\r\n   * Add an event listener when the upperCase key is clicked\r\n   * and set the behavior when this event is triggered\r\n   * @param {any} key\r\n   * @memberof VirtualKeyboard\r\n   */\r\n  upperCaseKeyEvent(key) {\r\n    key.addEventListener('click', () => {\r\n      this.setKeyboardRows(Array.of(this.upperkeysRow0, this.upperkeysRow1, this.upperkeysRow2, this.upperkeysRow3));\r\n    });\r\n  }\r\n  /**\r\n   * Add an event listener when the lowerCase key is clicked\r\n   * and set the behavior when this event is triggered\r\n   * @param {any} key\r\n   * @memberof VirtualKeyboard\r\n   */\r\n  lowerCaseKeyEvent(key) {\r\n    key.addEventListener('click', () => {\r\n      this.setKeyboardRows(Array.of(this.lowkeysRow0, this.lowkeysRow1, this.lowkeysRow2, this.lowkeysRow3));\r\n    });\r\n  }\r\n\r\n  numericsKeyEvent(key) {\r\n    key.addEventListener('click', () => {\r\n      this.setKeyboardRows(Array.of(this.numericKeysRow0, this.numericKeysRow1, this.numericKeysRow2, this.numericKeysRow3));\r\n    });\r\n  }\r\n\r\n  extraKeyEvent(key) {\r\n    key.addEventListener('click', () => {\r\n      this.setKeyboardRows(Array.of(this.extraKeysRow0, this.extraKeysRow1, this.numericKeysRow2, this.numericKeysRow3));\r\n    });\r\n  }\r\n  /**\r\n   * Increment the position of the caret\r\n   * @memberof VirtualKeyboard\r\n   */\r\n  incrementCaretPosition() {\r\n    this.inputCaretPosition += 1;\r\n    this.currentInputElement.setSelectionRange(this.inputCaretPosition, this.inputCaretPosition);\r\n    this.currentInputElement.focus();\r\n  }\r\n  /**\r\n   * Decrement the position of the caret\r\n   * @memberof VirtualKeyboard\r\n   */\r\n  decrementCaretPosition() {\r\n    this.inputCaretPosition -= 1;\r\n    this.currentInputElement.setSelectionRange(this.inputCaretPosition, this.inputCaretPosition);\r\n    this.currentInputElement.focus();\r\n  }\r\n  /**\r\n   * Contruct an array of HTML elements representing keys\r\n   * @param {number} from\r\n   * @param {number} to\r\n   * @param {any} mappingArray\r\n   * @return {HTMLElement[]}\r\n   * @memberof VirtualKeyboard\r\n   */\r\n  constructKeys(from, to, mappingArray) {\r\n    const keys = [];\r\n    for (let i = 0, j = from; i < to; i += 1, j += 1) {\r\n      keys[i] = document.createElement('div');\r\n      keys[i].classList.add('key');\r\n      if (mappingArray[j].class) {\r\n        keys[i].classList.add(mappingArray[j].class);\r\n      }\r\n      if (mappingArray[j].action) {\r\n        keys[i].setAttribute('data-action', mappingArray[j].action);\r\n      }\r\n      if (mappingArray[j].ascii) {\r\n        keys[i].setAttribute('data-ascii', mappingArray[j].ascii);\r\n      }\r\n      if (mappingArray[j].key) {\r\n        keys[i].innerHTML = mappingArray[j].key;\r\n      }\r\n\r\n      if (mappingArray[j].action === 'enter') {\r\n        this.enterKeyEvent(keys[i]);\r\n      }\r\n\r\n      if (mappingArray[j].action === 'backspace') {\r\n        this.backSpaceKeyEvent(keys[i]);\r\n      }\r\n\r\n      if (mappingArray[j].action === 'uppercase') {\r\n        this.upperCaseKeyEvent(keys[i]);\r\n      }\r\n\r\n      if (mappingArray[j].action === 'lowercase') {\r\n        this.lowerCaseKeyEvent(keys[i]);\r\n      }\r\n\r\n      if (mappingArray[j].action === 'numerics') {\r\n        this.numericsKeyEvent(keys[i]);\r\n      }\r\n\r\n      if (mappingArray[j].action === 'extrakeys') {\r\n        this.extraKeyEvent(keys[i]);\r\n      }\r\n\r\n      if (!mappingArray[j].action) {\r\n        keys[i].addEventListener('click', () => {\r\n          // var event = new KeyboardEvent(\"keypress\",\r\n          // { cancelable: true, bubbles: true, key: mappingArray[j].key});\r\n          // this.currentInputElement.dispatchEvent(event);\r\n          this.currentInputElement.value =\r\n            this.currentInputElement.value.slice(0, this.inputCaretPosition) +\r\n            String.fromCharCode(mappingArray[j].ascii) +\r\n            this.currentInputElement.value.slice(this.inputCaretPosition);\r\n          this.incrementCaretPosition();\r\n        });\r\n      }\r\n    }\r\n    return keys;\r\n  }\r\n  /**\r\n   * Construct the virtual keyboard\r\n   * @memberof VirtualKeyboard\r\n   */\r\n  constructKeyboard(keysMapping) {\r\n    this.keyboardContainer = document.createElement('div');\r\n    this.actionsContainer = document.createElement('div');\r\n\r\n    this.keyboardContainer.classList.add('keyboard-container');\r\n    this.actionsContainer.classList.add('actions-container');\r\n\r\n    this.keyboardContainer.appendChild(this.actionsContainer);\r\n\r\n    for (let i = 0; i < this.rows.length; i += 1) {\r\n      this.rows[i] = document.createElement('div');\r\n      this.rows[i].classList.add('row');\r\n    }\r\n    this.actionsContainer.innerHTML = `<span class=\"config-button\">\r\n            <i class=\"fa fa-cog\" aria-hidden=\"true\"></i>\r\n            </span>\r\n            <span class=\"close-button\">\r\n            <i class=\"fa fa-times\" aria-hidden=\"true\"></i>\r\n            </span>`;\r\n    const closeButton = this.actionsContainer.querySelector('.close-button');\r\n    closeButton.addEventListener('click', () => {\r\n      this.closeKeyboard();\r\n    });\r\n    this.lowkeysRow0 = this.constructKeys(0, FIRST_ROW_LENGHT, keysMapping);\r\n    this.lowkeysRow1 = this.constructKeys(10, SECOND_ROW_LENGHT, keysMapping);\r\n    this.lowkeysRow2 = this.constructKeys(20, THIRD_ROW_LENGHT, keysMapping);\r\n    this.lowkeysRow3 = this.constructKeys(29, FOURTH_ROW_LENGHT, keysMapping);\r\n\r\n    this.upperkeysRow0 = this.constructKeys(35, FIRST_ROW_LENGHT, keysMapping);\r\n    this.upperkeysRow1 = this.constructKeys(45, SECOND_ROW_LENGHT, keysMapping);\r\n    this.upperkeysRow2 = this.constructKeys(55, THIRD_ROW_LENGHT, keysMapping);\r\n    this.upperkeysRow3 = this.constructKeys(64, FOURTH_ROW_LENGHT, keysMapping);\r\n\r\n    this.numericKeysRow0 = this.constructKeys(70, FIRST_ROW_LENGHT, keysMapping);\r\n    this.numericKeysRow1 = this.constructKeys(80, SECOND_ROW_LENGHT, keysMapping);\r\n    this.numericKeysRow2 = this.constructKeys(90, THIRD_ROW_LENGHT, keysMapping);\r\n    this.numericKeysRow3 = this.constructKeys(99, FOURTH_ROW_LENGHT, keysMapping);\r\n\r\n    debugger\r\n    this.extraKeysRow0 = this.constructKeys(105, FIRST_ROW_LENGHT, keysMapping);\r\n    this.extraKeysRow1 = this.constructKeys(115, SECOND_ROW_LENGHT, keysMapping);\r\n    // this.extraKeysRow2 = this.constructKeys(90, THIRD_ROW_LENGHT, keysMapping);\r\n    // this.extraKeysRow3 = this.constructKeys(99, FOURTH_ROW_LENGHT, keysMapping);\r\n\r\n    this.keys = this.lowkeysRow0.concat(this.lowkeysRow1, this.lowkeysRow2,\r\n      this.lowkeysRow3, this.upperkeysRow0, this.upperkeysRow1, this.upperkeysRow2, this.upperkeysRow3,\r\n      this.numericKeysRow0, this.numericKeysRow1, this.numericKeysRow2, this.extraKeysRow0, this.extraKeysRow1);\r\n    this.setKeyboardRows(Array.of(this.lowkeysRow0,\r\n      this.lowkeysRow1, this.lowkeysRow2, this.lowkeysRow3));\r\n\r\n    this.keyboardContainer.append(this.actionsContainer, ...this.rows);\r\n    document.body.appendChild(this.keyboardContainer);\r\n\r\n    this.registerHookListenner();\r\n    // console.log(this.keyboardContainer);\r\n    // console.log(this.keys);\r\n  }\r\n  /**\r\n   * Setup the visible keys for the user\r\n   * @param {any} keysRow\r\n   * @memberof VirtualKeyboard\r\n   */\r\n  setKeyboardRows(keysRow) {\r\n    for (let i = 0; i < keysRow.length; i += 1) {\r\n      while (this.rows[i].firstChild) {\r\n        this.rows[i].removeChild(this.rows[i].firstChild);\r\n      }\r\n      this.rows[i].append(...keysRow[i]);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the position of the virtual keyboard\r\n   * under the input HTML element with center alignment\r\n   * @memberof VirtualKeyboard\r\n   */\r\n  setKeyboardPosition() {\r\n    const virtualKeyboardWidth = this.keyboardContainer.offsetWidth;\r\n    let left = ((this.currentInputElement.offsetWidth / 2) - (virtualKeyboardWidth / 2)) +\r\n      this.currentInputElement.getBoundingClientRect().left + document.documentElement.scrollLeft;\r\n    const top = this.currentInputElement.getBoundingClientRect().top +\r\n      this.currentInputElement.offsetHeight + 15 + document.documentElement.scrollTop;\r\n\r\n    if (left < 20) {\r\n      left = 20;\r\n    }\r\n    this.keyboardContainer.style.left = `${left}px`;\r\n    this.keyboardContainer.style.top = `${top}px`;\r\n  }\r\n  /**\r\n   * Add event listener for the virtual keyboard hook\r\n   * @memberof VirtualKeyboard\r\n   */\r\n  registerHookListenner() {\r\n    const hookLaunchers = document.querySelectorAll('.virtual-keyboard-hook');\r\n    let targetedInput;\r\n    if (hookLaunchers.length > 0) {\r\n      [...hookLaunchers].forEach((hookLauncher) => {\r\n        hookLauncher.addEventListener('click', () => {\r\n          targetedInput = document.getElementById(hookLauncher.dataset.targetId);\r\n          if (targetedInput) {\r\n            if (!this.targetedInputsElements.has(targetedInput)) {\r\n              targetedInput.addEventListener('click', () => {\r\n                this.inputCaretPosition = this.currentInputElement.selectionStart;\r\n                // console.log('caret position', this.inputCaretPosition);\r\n              });\r\n\r\n              targetedInput.addEventListener('keypress', () => {\r\n                this.inputCaretPosition += 1;\r\n              });\r\n              this.inputCaretPosition = targetedInput.value.length;\r\n\r\n              this.targetedInputsElements.add(targetedInput);\r\n            }\r\n            if (this.isvisible && this.currentInputElement &&\r\n              hookLauncher.dataset.targetId === this.currentInputElement.id) {\r\n              this.isvisible = !this.isvisible;\r\n              this.keyboardContainer.classList.remove('visible');\r\n            } else {\r\n              this.setInputElement(targetedInput);\r\n              this.setKeyboardPosition();\r\n              this.isvisible = true;\r\n              this.keyboardContainer.classList.add('visible');\r\n              this.currentInputElement.focus();\r\n            }\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Close the virtual keyboard\r\n   * @memberof VirtualKeyboard\r\n   */\r\n  closeKeyboard() {\r\n    this.keyboardContainer.classList.remove('visible');\r\n  }\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = VirtualKeyboard;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9WaXJ0dWFsS2V5Ym9hcmQuanM/MzllNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gICAgVmlydHVhbCBLZXlib2FyZCBmb3Igd2ViIGFwcFxyXG4qL1xyXG5cclxuY29uc3QgRklSU1RfUk9XX0xFTkdIVCA9IDEwO1xyXG5jb25zdCBTRUNPTkRfUk9XX0xFTkdIVCA9IDEwO1xyXG5jb25zdCBUSElSRF9ST1dfTEVOR0hUID0gOTtcclxuY29uc3QgRk9VUlRIX1JPV19MRU5HSFQgPSA2O1xyXG5cclxuLyoqXHJcbiAqIENsYXNzIG9mIFZpcnR1YWwga2V5Ym9hZFxyXG4gKiBAY2xhc3MgVmlydHVhbEtleWJvYXJkXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaXJ0dWFsS2V5Ym9hcmQge1xyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgVmlydHVhbEtleWJvYXJkLlxyXG4gICAqIEBwYXJhbSB7YW55fSBvcHRpb25zXHJcbiAgICogQG1lbWJlcm9mIFZpcnR1YWxLZXlib2FyZFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICB0aGlzLmN1cnJlbnRJbnB1dEVsZW1lbnQgPSBudWxsO1xyXG4gICAgdGhpcy50YXJnZXRlZElucHV0c0VsZW1lbnRzID0gbmV3IFNldCgpO1xyXG4gICAgdGhpcy5pc3Zpc2libGUgPSBmYWxzZTtcclxuICAgIHRoaXMua2V5Ym9hcmRDb250YWluZXIgPSBudWxsO1xyXG4gICAgdGhpcy5hY3Rpb25zQ29udGFpbmVyID0gbnVsbDtcclxuICAgIHRoaXMuaW5wdXRDYXJldFBvc2l0aW9uID0gMDtcclxuICAgIHRoaXMucm93cyA9IFt0aGlzLnJvdzEsIHRoaXMucm93MiwgdGhpcy5yb3czLCB0aGlzLnJvdzRdO1xyXG4gICAgdGhpcy5rZXlzID0gbnVsbDtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmV0dXJuIHRoZSByZWZlcmVuY2Ugb2YgdGhlIGN1cnJlbnQgaW5wdXQgSHRtbCBlbGVtZW50IHRvIHdoaXRjaFxyXG4gICAqICB0aGUgdmlydHVhbCBrZXlib2FyZCBpcyBwb2ludGluZ1xyXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fVxyXG4gICAqIEBtZW1iZXJvZiBWaXJ0dWFsS2V5Ym9hcmRcclxuICAgKi9cclxuICBnZXRJbnB1dEVsZW1lbnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50SW5wdXRFbGVtZW50O1xyXG4gIH1cclxuICAvKipcclxuICAgKiBTZXQgdGhlIGN1cnJlbnQgaW5wdXQgSFRNTCBvZiB0aGUgIHZpcnR1YWwga2V5Ym9hcmRcclxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XHJcbiAgICogQG1lbWJlcm9mIFZpcnR1YWxLZXlib2FyZFxyXG4gICAqL1xyXG4gIHNldElucHV0RWxlbWVudChlbGVtZW50KSB7XHJcbiAgICB0aGlzLmN1cnJlbnRJbnB1dEVsZW1lbnQgPSBlbGVtZW50O1xyXG4gIH1cclxuICAvKipcclxuICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgd2hlbiB0aGUgRW50ZXIga2V5IGlzIGNsaWNrZWRcclxuICAgKiBhbmQgc2V0IHRoZSBiZWhhdmlvciB3aGVuIHRoaXMgZXZlbnQgaXMgdHJpZ2dlcmVkXHJcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0ga2V5XHJcbiAgICogQG1lbWJlcm9mIFZpcnR1YWxLZXlib2FyZFxyXG4gICAqL1xyXG4gIGVudGVyS2V5RXZlbnQoa2V5KSB7XHJcbiAgICBrZXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY3VycmVudElucHV0RWxlbWVudC52YWx1ZSA9XHJcbiAgICAgICAgYCR7dGhpcy5jdXJyZW50SW5wdXRFbGVtZW50LnZhbHVlLnNsaWNlKDAsIHRoaXMuaW5wdXRDYXJldFBvc2l0aW9uKX1cXG4ke3RoaXMuY3VycmVudElucHV0RWxlbWVudC52YWx1ZS5zbGljZSh0aGlzLmlucHV0Q2FyZXRQb3NpdGlvbil9YDtcclxuICAgICAgdGhpcy5pbmNyZW1lbnRDYXJldFBvc2l0aW9uKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIHdoZW4gdGhlIEJhY2tTcGFjZSBrZXkgaXMgY2xpY2tlZFxyXG4gICAqIGFuZCBzZXQgdGhlIGJlaGF2aW9yIHdoZW4gdGhpcyBldmVudCBpcyB0cmlnZ2VyZWRcclxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBrZXlcclxuICAgKiBAbWVtYmVyb2YgVmlydHVhbEtleWJvYXJkXHJcbiAgICovXHJcbiAgYmFja1NwYWNlS2V5RXZlbnQoa2V5KSB7XHJcbiAgICBrZXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY3VycmVudElucHV0RWxlbWVudC52YWx1ZSA9XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SW5wdXRFbGVtZW50LnZhbHVlLnNsaWNlKDAsIHRoaXMuaW5wdXRDYXJldFBvc2l0aW9uIC0gMSkgK1xyXG4gICAgICAgIHRoaXMuY3VycmVudElucHV0RWxlbWVudC52YWx1ZS5zbGljZSh0aGlzLmlucHV0Q2FyZXRQb3NpdGlvbik7XHJcbiAgICAgIHRoaXMuZGVjcmVtZW50Q2FyZXRQb3NpdGlvbigpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB3aGVuIHRoZSB1cHBlckNhc2Uga2V5IGlzIGNsaWNrZWRcclxuICAgKiBhbmQgc2V0IHRoZSBiZWhhdmlvciB3aGVuIHRoaXMgZXZlbnQgaXMgdHJpZ2dlcmVkXHJcbiAgICogQHBhcmFtIHthbnl9IGtleVxyXG4gICAqIEBtZW1iZXJvZiBWaXJ0dWFsS2V5Ym9hcmRcclxuICAgKi9cclxuICB1cHBlckNhc2VLZXlFdmVudChrZXkpIHtcclxuICAgIGtleS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5zZXRLZXlib2FyZFJvd3MoQXJyYXkub2YodGhpcy51cHBlcmtleXNSb3cwLCB0aGlzLnVwcGVya2V5c1JvdzEsIHRoaXMudXBwZXJrZXlzUm93MiwgdGhpcy51cHBlcmtleXNSb3czKSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIHdoZW4gdGhlIGxvd2VyQ2FzZSBrZXkgaXMgY2xpY2tlZFxyXG4gICAqIGFuZCBzZXQgdGhlIGJlaGF2aW9yIHdoZW4gdGhpcyBldmVudCBpcyB0cmlnZ2VyZWRcclxuICAgKiBAcGFyYW0ge2FueX0ga2V5XHJcbiAgICogQG1lbWJlcm9mIFZpcnR1YWxLZXlib2FyZFxyXG4gICAqL1xyXG4gIGxvd2VyQ2FzZUtleUV2ZW50KGtleSkge1xyXG4gICAga2V5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNldEtleWJvYXJkUm93cyhBcnJheS5vZih0aGlzLmxvd2tleXNSb3cwLCB0aGlzLmxvd2tleXNSb3cxLCB0aGlzLmxvd2tleXNSb3cyLCB0aGlzLmxvd2tleXNSb3czKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG51bWVyaWNzS2V5RXZlbnQoa2V5KSB7XHJcbiAgICBrZXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0S2V5Ym9hcmRSb3dzKEFycmF5Lm9mKHRoaXMubnVtZXJpY0tleXNSb3cwLCB0aGlzLm51bWVyaWNLZXlzUm93MSwgdGhpcy5udW1lcmljS2V5c1JvdzIsIHRoaXMubnVtZXJpY0tleXNSb3czKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGV4dHJhS2V5RXZlbnQoa2V5KSB7XHJcbiAgICBrZXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0S2V5Ym9hcmRSb3dzKEFycmF5Lm9mKHRoaXMuZXh0cmFLZXlzUm93MCwgdGhpcy5leHRyYUtleXNSb3cxLCB0aGlzLm51bWVyaWNLZXlzUm93MiwgdGhpcy5udW1lcmljS2V5c1JvdzMpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBJbmNyZW1lbnQgdGhlIHBvc2l0aW9uIG9mIHRoZSBjYXJldFxyXG4gICAqIEBtZW1iZXJvZiBWaXJ0dWFsS2V5Ym9hcmRcclxuICAgKi9cclxuICBpbmNyZW1lbnRDYXJldFBvc2l0aW9uKCkge1xyXG4gICAgdGhpcy5pbnB1dENhcmV0UG9zaXRpb24gKz0gMTtcclxuICAgIHRoaXMuY3VycmVudElucHV0RWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSh0aGlzLmlucHV0Q2FyZXRQb3NpdGlvbiwgdGhpcy5pbnB1dENhcmV0UG9zaXRpb24pO1xyXG4gICAgdGhpcy5jdXJyZW50SW5wdXRFbGVtZW50LmZvY3VzKCk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIERlY3JlbWVudCB0aGUgcG9zaXRpb24gb2YgdGhlIGNhcmV0XHJcbiAgICogQG1lbWJlcm9mIFZpcnR1YWxLZXlib2FyZFxyXG4gICAqL1xyXG4gIGRlY3JlbWVudENhcmV0UG9zaXRpb24oKSB7XHJcbiAgICB0aGlzLmlucHV0Q2FyZXRQb3NpdGlvbiAtPSAxO1xyXG4gICAgdGhpcy5jdXJyZW50SW5wdXRFbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKHRoaXMuaW5wdXRDYXJldFBvc2l0aW9uLCB0aGlzLmlucHV0Q2FyZXRQb3NpdGlvbik7XHJcbiAgICB0aGlzLmN1cnJlbnRJbnB1dEVsZW1lbnQuZm9jdXMoKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogQ29udHJ1Y3QgYW4gYXJyYXkgb2YgSFRNTCBlbGVtZW50cyByZXByZXNlbnRpbmcga2V5c1xyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvXHJcbiAgICogQHBhcmFtIHthbnl9IG1hcHBpbmdBcnJheVxyXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50W119XHJcbiAgICogQG1lbWJlcm9mIFZpcnR1YWxLZXlib2FyZFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdEtleXMoZnJvbSwgdG8sIG1hcHBpbmdBcnJheSkge1xyXG4gICAgY29uc3Qga2V5cyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBmcm9tOyBpIDwgdG87IGkgKz0gMSwgaiArPSAxKSB7XHJcbiAgICAgIGtleXNbaV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAga2V5c1tpXS5jbGFzc0xpc3QuYWRkKCdrZXknKTtcclxuICAgICAgaWYgKG1hcHBpbmdBcnJheVtqXS5jbGFzcykge1xyXG4gICAgICAgIGtleXNbaV0uY2xhc3NMaXN0LmFkZChtYXBwaW5nQXJyYXlbal0uY2xhc3MpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChtYXBwaW5nQXJyYXlbal0uYWN0aW9uKSB7XHJcbiAgICAgICAga2V5c1tpXS5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWN0aW9uJywgbWFwcGluZ0FycmF5W2pdLmFjdGlvbik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKG1hcHBpbmdBcnJheVtqXS5hc2NpaSkge1xyXG4gICAgICAgIGtleXNbaV0uc2V0QXR0cmlidXRlKCdkYXRhLWFzY2lpJywgbWFwcGluZ0FycmF5W2pdLmFzY2lpKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAobWFwcGluZ0FycmF5W2pdLmtleSkge1xyXG4gICAgICAgIGtleXNbaV0uaW5uZXJIVE1MID0gbWFwcGluZ0FycmF5W2pdLmtleTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKG1hcHBpbmdBcnJheVtqXS5hY3Rpb24gPT09ICdlbnRlcicpIHtcclxuICAgICAgICB0aGlzLmVudGVyS2V5RXZlbnQoa2V5c1tpXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChtYXBwaW5nQXJyYXlbal0uYWN0aW9uID09PSAnYmFja3NwYWNlJykge1xyXG4gICAgICAgIHRoaXMuYmFja1NwYWNlS2V5RXZlbnQoa2V5c1tpXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChtYXBwaW5nQXJyYXlbal0uYWN0aW9uID09PSAndXBwZXJjYXNlJykge1xyXG4gICAgICAgIHRoaXMudXBwZXJDYXNlS2V5RXZlbnQoa2V5c1tpXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChtYXBwaW5nQXJyYXlbal0uYWN0aW9uID09PSAnbG93ZXJjYXNlJykge1xyXG4gICAgICAgIHRoaXMubG93ZXJDYXNlS2V5RXZlbnQoa2V5c1tpXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChtYXBwaW5nQXJyYXlbal0uYWN0aW9uID09PSAnbnVtZXJpY3MnKSB7XHJcbiAgICAgICAgdGhpcy5udW1lcmljc0tleUV2ZW50KGtleXNbaV0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobWFwcGluZ0FycmF5W2pdLmFjdGlvbiA9PT0gJ2V4dHJha2V5cycpIHtcclxuICAgICAgICB0aGlzLmV4dHJhS2V5RXZlbnQoa2V5c1tpXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghbWFwcGluZ0FycmF5W2pdLmFjdGlvbikge1xyXG4gICAgICAgIGtleXNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAvLyB2YXIgZXZlbnQgPSBuZXcgS2V5Ym9hcmRFdmVudChcImtleXByZXNzXCIsXHJcbiAgICAgICAgICAvLyB7IGNhbmNlbGFibGU6IHRydWUsIGJ1YmJsZXM6IHRydWUsIGtleTogbWFwcGluZ0FycmF5W2pdLmtleX0pO1xyXG4gICAgICAgICAgLy8gdGhpcy5jdXJyZW50SW5wdXRFbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xyXG4gICAgICAgICAgdGhpcy5jdXJyZW50SW5wdXRFbGVtZW50LnZhbHVlID1cclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5wdXRFbGVtZW50LnZhbHVlLnNsaWNlKDAsIHRoaXMuaW5wdXRDYXJldFBvc2l0aW9uKSArXHJcbiAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUobWFwcGluZ0FycmF5W2pdLmFzY2lpKSArXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudElucHV0RWxlbWVudC52YWx1ZS5zbGljZSh0aGlzLmlucHV0Q2FyZXRQb3NpdGlvbik7XHJcbiAgICAgICAgICB0aGlzLmluY3JlbWVudENhcmV0UG9zaXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGtleXM7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdCB0aGUgdmlydHVhbCBrZXlib2FyZFxyXG4gICAqIEBtZW1iZXJvZiBWaXJ0dWFsS2V5Ym9hcmRcclxuICAgKi9cclxuICBjb25zdHJ1Y3RLZXlib2FyZChrZXlzTWFwcGluZykge1xyXG4gICAgdGhpcy5rZXlib2FyZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5hY3Rpb25zQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgdGhpcy5rZXlib2FyZENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdrZXlib2FyZC1jb250YWluZXInKTtcclxuICAgIHRoaXMuYWN0aW9uc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdhY3Rpb25zLWNvbnRhaW5lcicpO1xyXG5cclxuICAgIHRoaXMua2V5Ym9hcmRDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5hY3Rpb25zQ29udGFpbmVyKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucm93cy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICB0aGlzLnJvd3NbaV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdGhpcy5yb3dzW2ldLmNsYXNzTGlzdC5hZGQoJ3JvdycpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5hY3Rpb25zQ29udGFpbmVyLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cImNvbmZpZy1idXR0b25cIj5cclxuICAgICAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS1jb2dcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjbG9zZS1idXR0b25cIj5cclxuICAgICAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS10aW1lc1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cclxuICAgICAgICAgICAgPC9zcGFuPmA7XHJcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHRoaXMuYWN0aW9uc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtYnV0dG9uJyk7XHJcbiAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5jbG9zZUtleWJvYXJkKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMubG93a2V5c1JvdzAgPSB0aGlzLmNvbnN0cnVjdEtleXMoMCwgRklSU1RfUk9XX0xFTkdIVCwga2V5c01hcHBpbmcpO1xyXG4gICAgdGhpcy5sb3drZXlzUm93MSA9IHRoaXMuY29uc3RydWN0S2V5cygxMCwgU0VDT05EX1JPV19MRU5HSFQsIGtleXNNYXBwaW5nKTtcclxuICAgIHRoaXMubG93a2V5c1JvdzIgPSB0aGlzLmNvbnN0cnVjdEtleXMoMjAsIFRISVJEX1JPV19MRU5HSFQsIGtleXNNYXBwaW5nKTtcclxuICAgIHRoaXMubG93a2V5c1JvdzMgPSB0aGlzLmNvbnN0cnVjdEtleXMoMjksIEZPVVJUSF9ST1dfTEVOR0hULCBrZXlzTWFwcGluZyk7XHJcblxyXG4gICAgdGhpcy51cHBlcmtleXNSb3cwID0gdGhpcy5jb25zdHJ1Y3RLZXlzKDM1LCBGSVJTVF9ST1dfTEVOR0hULCBrZXlzTWFwcGluZyk7XHJcbiAgICB0aGlzLnVwcGVya2V5c1JvdzEgPSB0aGlzLmNvbnN0cnVjdEtleXMoNDUsIFNFQ09ORF9ST1dfTEVOR0hULCBrZXlzTWFwcGluZyk7XHJcbiAgICB0aGlzLnVwcGVya2V5c1JvdzIgPSB0aGlzLmNvbnN0cnVjdEtleXMoNTUsIFRISVJEX1JPV19MRU5HSFQsIGtleXNNYXBwaW5nKTtcclxuICAgIHRoaXMudXBwZXJrZXlzUm93MyA9IHRoaXMuY29uc3RydWN0S2V5cyg2NCwgRk9VUlRIX1JPV19MRU5HSFQsIGtleXNNYXBwaW5nKTtcclxuXHJcbiAgICB0aGlzLm51bWVyaWNLZXlzUm93MCA9IHRoaXMuY29uc3RydWN0S2V5cyg3MCwgRklSU1RfUk9XX0xFTkdIVCwga2V5c01hcHBpbmcpO1xyXG4gICAgdGhpcy5udW1lcmljS2V5c1JvdzEgPSB0aGlzLmNvbnN0cnVjdEtleXMoODAsIFNFQ09ORF9ST1dfTEVOR0hULCBrZXlzTWFwcGluZyk7XHJcbiAgICB0aGlzLm51bWVyaWNLZXlzUm93MiA9IHRoaXMuY29uc3RydWN0S2V5cyg5MCwgVEhJUkRfUk9XX0xFTkdIVCwga2V5c01hcHBpbmcpO1xyXG4gICAgdGhpcy5udW1lcmljS2V5c1JvdzMgPSB0aGlzLmNvbnN0cnVjdEtleXMoOTksIEZPVVJUSF9ST1dfTEVOR0hULCBrZXlzTWFwcGluZyk7XHJcblxyXG4gICAgZGVidWdnZXJcclxuICAgIHRoaXMuZXh0cmFLZXlzUm93MCA9IHRoaXMuY29uc3RydWN0S2V5cygxMDUsIEZJUlNUX1JPV19MRU5HSFQsIGtleXNNYXBwaW5nKTtcclxuICAgIHRoaXMuZXh0cmFLZXlzUm93MSA9IHRoaXMuY29uc3RydWN0S2V5cygxMTUsIFNFQ09ORF9ST1dfTEVOR0hULCBrZXlzTWFwcGluZyk7XHJcbiAgICAvLyB0aGlzLmV4dHJhS2V5c1JvdzIgPSB0aGlzLmNvbnN0cnVjdEtleXMoOTAsIFRISVJEX1JPV19MRU5HSFQsIGtleXNNYXBwaW5nKTtcclxuICAgIC8vIHRoaXMuZXh0cmFLZXlzUm93MyA9IHRoaXMuY29uc3RydWN0S2V5cyg5OSwgRk9VUlRIX1JPV19MRU5HSFQsIGtleXNNYXBwaW5nKTtcclxuXHJcbiAgICB0aGlzLmtleXMgPSB0aGlzLmxvd2tleXNSb3cwLmNvbmNhdCh0aGlzLmxvd2tleXNSb3cxLCB0aGlzLmxvd2tleXNSb3cyLFxyXG4gICAgICB0aGlzLmxvd2tleXNSb3czLCB0aGlzLnVwcGVya2V5c1JvdzAsIHRoaXMudXBwZXJrZXlzUm93MSwgdGhpcy51cHBlcmtleXNSb3cyLCB0aGlzLnVwcGVya2V5c1JvdzMsXHJcbiAgICAgIHRoaXMubnVtZXJpY0tleXNSb3cwLCB0aGlzLm51bWVyaWNLZXlzUm93MSwgdGhpcy5udW1lcmljS2V5c1JvdzIsIHRoaXMuZXh0cmFLZXlzUm93MCwgdGhpcy5leHRyYUtleXNSb3cxKTtcclxuICAgIHRoaXMuc2V0S2V5Ym9hcmRSb3dzKEFycmF5Lm9mKHRoaXMubG93a2V5c1JvdzAsXHJcbiAgICAgIHRoaXMubG93a2V5c1JvdzEsIHRoaXMubG93a2V5c1JvdzIsIHRoaXMubG93a2V5c1JvdzMpKTtcclxuXHJcbiAgICB0aGlzLmtleWJvYXJkQ29udGFpbmVyLmFwcGVuZCh0aGlzLmFjdGlvbnNDb250YWluZXIsIC4uLnRoaXMucm93cyk7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMua2V5Ym9hcmRDb250YWluZXIpO1xyXG5cclxuICAgIHRoaXMucmVnaXN0ZXJIb29rTGlzdGVubmVyKCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmtleWJvYXJkQ29udGFpbmVyKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMua2V5cyk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFNldHVwIHRoZSB2aXNpYmxlIGtleXMgZm9yIHRoZSB1c2VyXHJcbiAgICogQHBhcmFtIHthbnl9IGtleXNSb3dcclxuICAgKiBAbWVtYmVyb2YgVmlydHVhbEtleWJvYXJkXHJcbiAgICovXHJcbiAgc2V0S2V5Ym9hcmRSb3dzKGtleXNSb3cpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5c1Jvdy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICB3aGlsZSAodGhpcy5yb3dzW2ldLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICB0aGlzLnJvd3NbaV0ucmVtb3ZlQ2hpbGQodGhpcy5yb3dzW2ldLmZpcnN0Q2hpbGQpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMucm93c1tpXS5hcHBlbmQoLi4ua2V5c1Jvd1tpXSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhlIHBvc2l0aW9uIG9mIHRoZSB2aXJ0dWFsIGtleWJvYXJkXHJcbiAgICogdW5kZXIgdGhlIGlucHV0IEhUTUwgZWxlbWVudCB3aXRoIGNlbnRlciBhbGlnbm1lbnRcclxuICAgKiBAbWVtYmVyb2YgVmlydHVhbEtleWJvYXJkXHJcbiAgICovXHJcbiAgc2V0S2V5Ym9hcmRQb3NpdGlvbigpIHtcclxuICAgIGNvbnN0IHZpcnR1YWxLZXlib2FyZFdpZHRoID0gdGhpcy5rZXlib2FyZENvbnRhaW5lci5vZmZzZXRXaWR0aDtcclxuICAgIGxldCBsZWZ0ID0gKCh0aGlzLmN1cnJlbnRJbnB1dEVsZW1lbnQub2Zmc2V0V2lkdGggLyAyKSAtICh2aXJ0dWFsS2V5Ym9hcmRXaWR0aCAvIDIpKSArXHJcbiAgICAgIHRoaXMuY3VycmVudElucHV0RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XHJcbiAgICBjb25zdCB0b3AgPSB0aGlzLmN1cnJlbnRJbnB1dEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICtcclxuICAgICAgdGhpcy5jdXJyZW50SW5wdXRFbGVtZW50Lm9mZnNldEhlaWdodCArIDE1ICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuXHJcbiAgICBpZiAobGVmdCA8IDIwKSB7XHJcbiAgICAgIGxlZnQgPSAyMDtcclxuICAgIH1cclxuICAgIHRoaXMua2V5Ym9hcmRDb250YWluZXIuc3R5bGUubGVmdCA9IGAke2xlZnR9cHhgO1xyXG4gICAgdGhpcy5rZXlib2FyZENvbnRhaW5lci5zdHlsZS50b3AgPSBgJHt0b3B9cHhgO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBBZGQgZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSB2aXJ0dWFsIGtleWJvYXJkIGhvb2tcclxuICAgKiBAbWVtYmVyb2YgVmlydHVhbEtleWJvYXJkXHJcbiAgICovXHJcbiAgcmVnaXN0ZXJIb29rTGlzdGVubmVyKCkge1xyXG4gICAgY29uc3QgaG9va0xhdW5jaGVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52aXJ0dWFsLWtleWJvYXJkLWhvb2snKTtcclxuICAgIGxldCB0YXJnZXRlZElucHV0O1xyXG4gICAgaWYgKGhvb2tMYXVuY2hlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICBbLi4uaG9va0xhdW5jaGVyc10uZm9yRWFjaCgoaG9va0xhdW5jaGVyKSA9PiB7XHJcbiAgICAgICAgaG9va0xhdW5jaGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgdGFyZ2V0ZWRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhvb2tMYXVuY2hlci5kYXRhc2V0LnRhcmdldElkKTtcclxuICAgICAgICAgIGlmICh0YXJnZXRlZElucHV0KSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy50YXJnZXRlZElucHV0c0VsZW1lbnRzLmhhcyh0YXJnZXRlZElucHV0KSkge1xyXG4gICAgICAgICAgICAgIHRhcmdldGVkSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0Q2FyZXRQb3NpdGlvbiA9IHRoaXMuY3VycmVudElucHV0RWxlbWVudC5zZWxlY3Rpb25TdGFydDtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjYXJldCBwb3NpdGlvbicsIHRoaXMuaW5wdXRDYXJldFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgdGFyZ2V0ZWRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRDYXJldFBvc2l0aW9uICs9IDE7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5pbnB1dENhcmV0UG9zaXRpb24gPSB0YXJnZXRlZElucHV0LnZhbHVlLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgdGhpcy50YXJnZXRlZElucHV0c0VsZW1lbnRzLmFkZCh0YXJnZXRlZElucHV0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc3Zpc2libGUgJiYgdGhpcy5jdXJyZW50SW5wdXRFbGVtZW50ICYmXHJcbiAgICAgICAgICAgICAgaG9va0xhdW5jaGVyLmRhdGFzZXQudGFyZ2V0SWQgPT09IHRoaXMuY3VycmVudElucHV0RWxlbWVudC5pZCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuaXN2aXNpYmxlID0gIXRoaXMuaXN2aXNpYmxlO1xyXG4gICAgICAgICAgICAgIHRoaXMua2V5Ym9hcmRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMuc2V0SW5wdXRFbGVtZW50KHRhcmdldGVkSW5wdXQpO1xyXG4gICAgICAgICAgICAgIHRoaXMuc2V0S2V5Ym9hcmRQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICAgIHRoaXMuaXN2aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcclxuICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbnB1dEVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogQ2xvc2UgdGhlIHZpcnR1YWwga2V5Ym9hcmRcclxuICAgKiBAbWVtYmVyb2YgVmlydHVhbEtleWJvYXJkXHJcbiAgICovXHJcbiAgY2xvc2VLZXlib2FyZCgpIHtcclxuICAgIHRoaXMua2V5Ym9hcmRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xyXG4gIH1cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL1ZpcnR1YWxLZXlib2FyZC5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n");

/***/ })
/******/ ]);